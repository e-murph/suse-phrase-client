= 时间线和时空旅行
:revdate: 2025-07-10
:page-revdate: {revdate}
:description: SUSE 可观察性

== 概述

通过 SUSE Observability UI 底部的时间轴，您可以回溯到拓扑在过去某个特定时间点的状态。然后，您可以浏览所选拓扑快照的所有可用遥测数据。时间轴中的健康状况和事件图表可概述所选遥测时间间隔内的拓扑状态。

image::k8s/k8s-timeline.png[时间表]

== 时间表

=== 遥测间隔

遥测时间间隔指定了 SUSE Observability 视角中提供事件、度量和跟踪的时间窗口。它在时间轴上从左到右运行。

image::v51_telemetry_interval.png[遥测间隔]

所选遥测间隔可以是相对的（实时模式），也可以设置为自定义遥测间隔（时间旅行模式）。默认情况下，遥测间隔被设置为相对遥测间隔\--在实时模式下，显示上一小时的遥测数据。您可以放大/缩小或设置自定义遥测时间间隔，以查看特定时间点的遥测数据。

==== 设置遥测间隔

[NOTE]
====

* 遥测间隔最长可达 6 个月。
* 当为遥测间隔设置了自定义遥测间隔时，SUSE Observability 将暂停<<_topology_time,拓扑时间>>并进入<<_time_travel,时间旅行模式>>。
====


遥测间隔可通过以下方式设置：

* *放大*

image::v51_timeline_click_drag.png[在时间轴上单击并拖动，在选区上设置自定义遥测时间间隔]

* *放大*

image::v51_telemetry_interval_zoom_out.png[单击放大镜可将遥测时间间隔放大一倍]

* *使用遥测间隔跳线箭头*

image::v51_telemetry_interval_jumper.png[单击时间跳线箭头，在时间上向前或向后移动遥测时间间隔]

* *设置相对或自定义遥测时间间隔*

image::v51_timeline_telemetry_interval.png[使用弹出式 "设置遥测时间间隔 "指定遥测时间间隔]

=== 拓扑时间

SUSE Observability 中的拓扑结构基于当时观察到的环境快照。该快照的拍摄时间由拓扑时间指定。默认情况下，SUSE Observability 处于实时模式，拓扑时间设置为当前时间。您可以通过选择自定义拓扑<<_time_travel,时间>>，回到拓扑的上一个状态。这有助于您在某个时刻调查某个问题。即使 pod 早已不复存在，您仍可查看其连接方式、日志、事件、相关资源、事件等。

image::v51_topology_time.png[拓扑时间]

在时间轴上，所选拓扑时间由播放头显示\--一条黑线，顶部是当前拓扑时间。时间轴顶部的*拓扑时间*框中也有指定。

==== 设置拓扑时间

拓扑时间可以通过以下方式设置：

* *点击时间轴*

image::v51_topology_time_timeline.png[单击时间轴上的任意位置，将拓扑时间设置为该时刻]

* *使用拓扑时间跳线箭头*

image::v51_topology_time_jumper.png[单击拓扑时间跳线箭头，将拓扑时间向前或向后移动到下一组事件中]

* *设置自定义拓扑时间*

image::v51_topology_time_popup.png[使用弹出式 "设置拓扑时间 "指定拓扑时间]

* *点击时间戳*

image::v51_topology_time_timestamp.png[单击时间戳可跳转到该特定拓扑时间]

==== 遥测间隔外的拓扑时间

如果选择的拓扑时间超出了当前选择的<<_telemetry_interval,遥测时间间隔>>，则会显示 "拓扑时间超出了当前遥测时间间隔 "的信息，时间轴顶部的*拓扑时间*框将突出显示为黑色。由于时间线从左到右显示遥测时间间隔，因此在时间线上看不到显示当前拓扑时间的播放头。

image::v51_topology_time_outside_telemetry_interval.png[遥测间隔之外的拓扑时间]

您仍然可以浏览拓扑和遥测数据：

* 在xref:/use/views/k8s-topology-perspective.adoc[拓扑视角]中，所选拓扑时间的拓扑状态可视化显示。
* 在所有视角中，显示的遥测信息都是在所选遥测时间间隔内生成的，与所选拓扑时间内存在的拓扑元素有关。

==== 实时模式

要停止时间旅行并将拓扑时间返回到实时模式，请单击屏幕顶部的 "*转为实时*"或 "*返回实时"*。

image::v51_timeline_go_live.png[开始直播]

=== 健康

视图在所选遥测时间间隔内的健康状态会以颜色显示在时间轴 "*健康*"行中。

对于单个资源，健康状况会随时间变化，在概览中会显示一条灰色线。

image::v51_timeline_no_health_state.png[健康状况不详]

=== 活动

时间线中的 "*事件*"行显示了一个条形图，显示了每个时间点生成的事件数量。这有助于您看到过去活动频繁的时刻。请注意，只显示所选<<_topology_time,拓扑时间>>内存在的<<_topology_time,拓扑>>元素生成的事件。

要放大感兴趣的事件条，请单击并拖动，在时间轴上选择其周围较小的遥测时间间隔。

image::v51_timeline_click_drag.png[单击并拖动以选择遥测时间间隔]

[NOTE]
====
在时间轴上单击一下，播放头就会移动到这个时间点，从而时空穿梭到所选拓扑时间的<<_topology_time,拓扑>>状态。现在将只显示新选择的拓扑时间内存在的拓扑元素生成的事件。
====


== 时间旅行

在每个 SUSE Observability 视角中，您都可以处于实时模式或过去模式。在实时模式下，SUSE Observability 会不断轮询以获取新数据。通过拓扑或遥测技术进行时间旅行时，您实际上是在使用基础设施的快照。现有数据基于两种选择：

* <<_topology_time,拓扑时间>>- 您要获取 Kubernetes 资源快照的特定时间点。
* <<_telemetry_interval,遥测间隔>>- 您希望查看遥测和跟踪的时间范围。

要停止时间旅行并返回实时模式，请单击屏幕上方的 "*转到实时*"或*"返回实时"*。

image::v51_timeline_go_live.png[开始直播]
