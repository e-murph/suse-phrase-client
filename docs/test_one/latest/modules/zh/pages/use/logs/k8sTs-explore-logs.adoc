= 探索日志
:revdate: 2025-07-10
:page-revdate: {revdate}
:description: SUSE 可观察性

== 导航至日志

您可以通过 SUSE Observability UI 查看任何已配置日志出货功能的 Kubernetes 环境的容器日志。
可以从左侧的 Kubernetes 菜单通过任何提供的范例（服务、部署、有状态集、守护进程集等）深入到`pod` 级别来实现这一点

image::k8s/k8s-menu.png[Kubernetes 范例菜单]

为简化和完整起见，该示例直接使用`Pods` 范例，并选择了包含多个容器的 pod，以区分 Pod 日志和容器日志。 Pod 视图将有多个与日志相关的入口点。

== 查看日志

image::k8s/k8s-pod-view-node-agent.png[Kubernetes Pod 视图]

要查看与该舱位相关的所有日志，请单击红色圈内的 "查看所有"。 要按日志条目类型（错误、警告、其他）进行筛选，请选择蓝色圈内的项目之一。 显示日志条目类型之间比例关系的柱状图以绿色圈出。

=== 原木抽屉

日志抽屉为浏览日志文件提供了一种视觉上愉悦的体验，从而增强了故障排除体验。

为简单起见，示例仅涉及未过滤的选择，这将显示所有日志行、所有容器和任何日志条目类型。 选择`View all` 可打开未应用过滤功能的日志抽屉：

image::k8s/k8s-pod-view-log-drawer-no-filter.png[Kubernetes 日志视图无过滤器]

从这一点出发，我们可以通过对所提供的过滤器（搜索字符串匹配、严重性、容器、日志窗口间隔）应用选项，开始深入研究问题。 在日志抽屉的直方图正下方，有多个用于排序和显示偏好的选项。

* 搜索字符串匹配会接收输入的搜索词，并过滤掉不包含该词的任何日志行。
* 严重程度选项有`Any`,`Error`,`Warning`, 和`Other` 。选择`Any` 以外的任何内容，都将排除与选择内容不匹配的所有日志行。
* 容器选项包括`Any` 和 Pod 中的容器列表。 除了`Any` 之外，选择任何其他选项都会限制输出，只能输出所选容器产生的内容。
* 日志窗口时间间隔选项将是一个日期时间选择器界面，允许您指定`from` 和`to` 时间间隔。 更改默认值后，将排除所选时间段之外的所有日志条目。

下面以这四种方式为例进行说明：

image::k8s/k8s-pod-view-log-drawer-with-filters.png[使用过滤器查看 Kubernetes 日志]

上图应用了以下滤镜：

* 搜索词： `wrong type in json response`
* 严重性： `Warning`
* 集装箱 `node-agent`
* 日志窗口间隔：`02:00am` 和`03:00am` 之间。
