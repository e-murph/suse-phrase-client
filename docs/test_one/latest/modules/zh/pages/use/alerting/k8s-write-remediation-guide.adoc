= 编写补救指南，帮助用户排除故障
:revdate: 2025-07-10
:page-revdate: {revdate}
:description: SUSE 可观察性

== 概述

SUSE Observability 提供xref:/use/alerting/k8s-monitors.adoc[开箱即用的监控器]，可监控 Kubernetes 集群中可能出现的常见问题。这些监控器还包含开箱即用的修复指南，旨在指导用户准确排除故障。它们是利用最佳实践和社区知识创建的。根据本页的说明，学习如何自己编写有效的补救指南。

== 指导方针

* 提供逐步说明，指导用户解决监视器检测到的问题；
* 确保按照最可能的原因排列说明。
* 如有可能，请附上相关数据和/或资源的链接，以加快调查速度。
* 简明扼要，切中要害：
 ** 避免过度解释\--如果是这样，请添加证明文件的链接；
 ** 避免使用目录和类似的内容块；
 ** 避免出现相同内容的摘要；
* 尽量使指南的格式有条理。使用：
 ** 要点
 ** 编号
 ** 短句
 ** 段落
 ** 内联格式化示例
* 如果存在未解决的问题（可能有不同的原因，而这些原因仍是未知的），则应为问题的升级提供指导。例如，为用户提供支持链接/号码等。

== 补救指南范例

----
When a Kubernetes container has errors, it can enter into a state called CrashLoopBackOff, where Kubernetes attempts to restart the container to resolve the issue. The container will continue to restart until the problem is resolved.Take the following steps to diagnose the problem:

### Pod Events

Check the pod events to identify any explicit errors or warnings.
1. Go to the "Events" section in the middle of the [Pod highlight page](/#/components/\{{ componentUrnForUrl \}})
2. Check if there is are events like "BackOff", "FailedScheduling", "FailedAttachVolume" or "OOMKilled" in the Alert Category by clicking on 'Alerts'.
3. You can see the details of the event (click on the event) to give more information about the issue.
4. If the 'Show related event' option is enabled all events of resources related to this resource like a deployment will also show up and can give you a clue if any change on them is causing this issue. You can see this by checking if there is a correlation between the time of a deployment and a change of behaviour seen by the metrics and events of this pod.
For easy correlation you can use 'shift'-'click' to add markers to the different graph, log and event widgets.

### Container Logs
Check the container logs for any explicit errors or warnings
Inspect the [Logs](/#/components/\{{ componentUrnForUrl \}}#logs) of all the containers in this pod.
Search for hints in the logs by:
1.  Looking for changes in logging pattern, by looking at the number of logs per time unit (The histogram bars).
    In many cases the change in pattern will indicate what is going on.
    You can click-drag on the histogram bars to narrow the logs displayed to that time-frame.
2.  Searching for "Error" or "Fatal" in the search bar.
3.  Looking at the logs around the time that the monitor triggered

### Recent Changes
Look at the pod age in the "About" section on the [Pod highlight page](/#/components/\{{ componentUrnForUrl \}}) to identify any recent deployments that might have caused the issue
1. The "Age" is shown in the "About" section on the left side of the screen
2. If the "Age" and the time that the monitor was triggered are in close proximity then take a look at the most recent deployment by clicking on [Show last change](/#/components/\{{ componentUrnForUrl \}}#lastChange).
----

== 插入链接

对于 "深层链接 "和 "页面内链接"，我们使用的语法是不同的。深层链接 "会将用户从当前页面重定向，而 "页面内链接 "则会将用户保留在同一页面上。

=== 深度链接

要链接到当前资源的任何视角（如 "亮点"、"拓扑"、"事件"、"度量"），请使用以下语法：

----
[highlight page](/#/components/\{{ componentUrnForUrl \}})
----

----
[topology](/#/components/{{ componentUrnForUrl }}/topology)
----

----
[events](/#/components/{{ componentUrnForUrl }}/events)
----

----
[metrics](/#/components/{{ componentUrnForUrl }}/metrics)
----

=== 页面内链接

要链接到当前资源的任何附加数据（如 "显示日志"、"显示最后更改"、"显示状态"、"显示配置"），请使用以下语法：

----
[logs](/#/components/\{{ componentUrnForUrl \}}#logs)
----

----
[last change](/#/components/\{{ componentUrnForUrl \}}#lastChange)
----

----
[status](/#/components/\{{ componentUrnForUrl \}}#status)
----

----
[configuration](/#/components/\{{ componentUrnForUrl \}}#configuration)
----
